<svg xmlns="http://www.w3.org/2000/svg" width="400" height="400" viewBox="0 0 400 400">
  <rect width="400" height="400" fill="#050814"/>

  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto">
      <polygon points="0 0, 10 5, 0 10" fill="#6b7280"/>
    </marker>

    <g id="box">
      <rect x="-120" y="-18" width="240" height="36" rx="10" fill="#0b1022" stroke="#3b82f6" stroke-width="2"/>
    </g>
  </defs>

  <!-- Title -->
  <text x="200" y="35" fill="#f9fafb" font-size="16" font-family="Arial" text-anchor="middle">
    Electrum Discovery Flow
  </text>

  <!-- Step 1 -->
  <use href="#box" x="200" y="70"/>
  <text x="200" y="66" fill="#e5e7eb" font-size="12" text-anchor="middle">
    1. Seed Server
  </text>

  <!-- Arrow -->
  <line x1="200" y1="90" x2="200" y2="115" stroke="#6b7280" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Step 2 -->
  <use href="#box" x="200" y="130"/>
  <text x="200" y="126" fill="#e5e7eb" font-size="12" text-anchor="middle">
    2. Connect (SSL/TCP)
  </text>

  <line x1="200" y1="150" x2="200" y2="175" stroke="#6b7280" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Step 3 -->
  <use href="#box" x="200" y="190"/>
  <text x="200" y="186" fill="#e5e7eb" font-size="12" text-anchor="middle">
    3. Request Peers
  </text>

  <line x1="200" y1="210" x2="200" y2="235" stroke="#6b7280" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Step 4 -->
  <use href="#box" x="200" y="250"/>
  <text x="200" y="246" fill="#e5e7eb" font-size="12" text-anchor="middle">
    4. Parse Peers
  </text>

  <line x1="200" y1="270" x2="200" y2="295" stroke="#6b7280" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Step 5 -->
  <use href="#box" x="200" y="310"/>
  <text x="200" y="306" fill="#e5e7eb" font-size="12" text-anchor="middle">
    5. Queue Expansion
  </text>

  <!-- Loop arrow -->
  <path d="M260 310 H320 V190 H260" fill="none" stroke="#6b7280" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="325" y="250" fill="#9ca3af" font-size="10" writing-mode="vertical-rl">Next Peer</text>

  <!-- Step 6 -->
  <line x1="200" y1="330" x2="200" y2="355" stroke="#6b7280" stroke-width="2" marker-end="url(#arrow)"/>

  <use href="#box" x="200" y="370"/>
  <text x="200" y="366" fill="#e5e7eb" font-size="12" text-anchor="middle">
    6. Store Metadata
  </text>
</svg>